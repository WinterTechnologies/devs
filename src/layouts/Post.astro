---
import type { MarkdownHeading } from "astro";
import Layout from "./Layout.astro";
import { Icon } from "astro-icon/components";
import TableOfContents from "../components/TableOfContents.astro";

interface Props {
  title: string;
  description: string;

  headings: MarkdownHeading[];

  backLink?: string;
  backText?: string;
}
const { title, description, backLink, backText, headings } = Astro.props;
---

<Layout title={title} description={description}>
  <div class="md:fixed md:top-32 md:right-0">
    <TableOfContents headings={headings} />
  </div>
  <article
    class="prose lg:prose-xl md:max-w-screen-sm md:mx-auto mx-4 py-4 mb-4"
  >
    {
      backLink && (
        <a
          href={backLink}
          class="text-sm text-neutral-500 hover:text-black inline-flex gap-1 items-center mb-4 duration-100"
        >
          <Icon name="lucide:arrow-left" /> {backText || "Back"}
        </a>
      )
    }

    <slot />
  </article>
</Layout>
